import{w as m}from"./with-props-BiQABcLS.js";import{q as x,r as i,n as e}from"./chunk-AYJ5UCUI-D02hIfpQ.js";const p=()=>{const a=x(),[t,d]=i.useState({username:"",password:""}),[o,l]=i.useState(""),c=s=>{d({...t,[s.target.name]:s.target.value})},u=async s=>{s.preventDefault();try{const r=await fetch("http://localhost:5000/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t),credentials:"include"}),n=await r.json();console.log("Response Status:",n),r.ok&&n.message==="Login successful"?a("/panel"):n.error==="Invalid username or password"&&l("رمز عبور یا نام کاربری اشتباه است")}catch(r){console.error(r),l("خطا در ارتباط با سرور")}};return e.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen",children:e.jsxs("form",{onSubmit:u,className:"flex flex-col w-full max-w-sm p-4 bg-white shadow-md rounded",children:[e.jsx("h2",{className:"text-xl text-black mb-4 text-center",children:"ورود به حساب"}),o&&e.jsx("p",{className:"text-red-500 text-sm",children:o}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block mb-1 text-black",children:"نام کاربری"}),e.jsx("input",{type:"text",name:"username",value:t.username,onChange:c,className:"w-full border px-3 py-2 rounded text-black border-gray-300 ",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block mb-1 text-black",children:"رمز عبور"}),e.jsx("input",{type:"password",name:"password",value:t.password,onChange:c,className:"w-full border px-3 py-2 rounded text-black border-gray-300",required:!0})]}),e.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition cursor-pointer",children:"ورود"}),e.jsx("button",{onClick:()=>a("/register"),className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition mt-1.5 cursor-pointer",children:"ثبت‌نام"}),e.jsx("a",{href:"#",className:"text-blue-600 text-[10px] cursor-pointer m-4",children:"رمز عبور خود را فراموش کرده ام"}),e.jsx("button",{onClick:()=>a("/"),className:"w-40 bg-red-600 text-white py-2 rounded self-center mt-1.5 cursor-pointer",children:"صفحه اصلی"})]})})},f=m(p);export{f as default};
